<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-intro/api-composition">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">API Composition | Tailcall</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://tailcall.run/docs/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="API Composition | Tailcall"><meta data-rh="true" name="description" content="API Composition"><meta data-rh="true" property="og:description" content="API Composition"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://tailcall.run/docs/"><link data-rh="true" rel="alternate" href="https://tailcall.run/docs/" hreflang="en"><link data-rh="true" rel="alternate" href="https://tailcall.run/docs/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Tailcall RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Tailcall Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-JEP3QDWT0G","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><link rel="stylesheet" href="/assets/css/styles.002a8a72.css">
<link rel="preload" href="/assets/js/runtime~main.7c931e67.js" as="script">
<link rel="preload" href="/assets/js/main.757b5c33.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_gu5v" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Tailcall Logo" class="themedImage_otCA themedImage--light_d4UA"><img src="/img/logo.svg" alt="Tailcall Logo" class="themedImage_otCA themedImage--dark_ePx5"></div><b class="navbar__title text--truncate">Tailcall</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/about">About</a><a href="https://github.com/tailcallhq/tailcall" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="searchBox_UQT_"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_IbdI docsWrapper_HdE8"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_SdI4" type="button"></button><div class="docPage_cDO8"><aside class="theme-doc-sidebar-container docSidebarContainer_otbp"><div class="sidebarViewport_K3Wb"><div class="sidebar_oDHW"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_vPEQ"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/">Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/">API Composition</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_BYXc"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_nDJs"><div class="docItemContainer_OGiL"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_k3Z9" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JACu"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Introduction</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">API Composition</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_QCOD theme-doc-toc-mobile tocMobile_N0YI"><button type="button" class="clean-btn tocCollapsibleButton_pHwF">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>API Composition</h1></header><h3 class="anchor anchorWithStickyNavbar_FNw8" id="api-composition">API Composition<a href="#api-composition" class="hash-link" aria-label="Direct link to API Composition" title="Direct link to API Composition">​</a></h3><p>Tailcall&#x27;s <strong>API Developer Platform</strong> intends to solve one of the most forsaken pieces of every microservice architecture — <strong>API Composition</strong>.
Some of the ideas used in tailcall&#x27;s solution are developed over years of experience in working at scale.
Before we go deeper into API Composition, let&#x27;s do a quick recap of what a microservice architecture looks like</p><h2 class="anchor anchorWithStickyNavbar_FNw8" id="microservice">Microservice<a href="#microservice" class="hash-link" aria-label="Direct link to Microservice" title="Direct link to Microservice">​</a></h2><p>Microservices architecture is a design pattern in which a large application is built as a suite of modular services, each of which runs its process and communicates with other services through well-defined interfaces, typically using a lightweight messaging protocol. This approach has several benefits over a monolithic architecture, including improved scalability, resilience, and maintainability. In a microservices architecture, each service has a specific role and is independently deployable, so developers can work on different services in parallel and deploy them independently of each other. This can make the development process more agile and allow for faster deployment of new features.</p><p><img loading="lazy" alt="microservice" src="/assets/images/microservices-470f369493a95674ec72436df9d40ce3.svg" width="3014" height="2260" class="img_wQsy"></p><p>An API gateway is a server that acts as a single point of entry for certain types of requests. It can receive requests from the client, route them to the appropriate backend service, and then return the response from the backend service to the client. An API gateway can also perform tasks such as authentication, rate limiting, and caching. This makes it a useful component in a microservices architecture, where each service has its API and the API gateway acts as the &quot;front door&quot; for clients to access the services.</p><h2 class="anchor anchorWithStickyNavbar_FNw8" id="api-composition-1">API Composition<a href="#api-composition-1" class="hash-link" aria-label="Direct link to API Composition" title="Direct link to API Composition">​</a></h2><p>API composition refers to the process of combining multiple APIs to create a new API or a new functionality. This can be done by sending requests to multiple APIs and combining the results, or by creating a new API that acts as a façade for the underlying APIs.</p><p>For example, consider a scenario where a client application wants to display a user&#x27;s profile information and recent posts on a social media platform. In this case, the client can send two separate requests to two different APIs: one to retrieve the user&#x27;s profile information, and another to retrieve their recent posts. The client can then combine the results from these two APIs to create a single response that contains all the required information. This new response can be considered as the output of the composed API.</p><p>To build a rich user interface, API composition is necessary on the client side.
One of the main challenges with API composition on the client side is that it can lead to increased complexity in the client application. This is because the client needs to handle the process of sending requests to multiple APIs and combining the results, which can add to the overall size and complexity of the client code.</p><p>Another challenge with API composition on the client side is that it can result in reduced performance and increased latency. This is because the client needs to make multiple separate requests to different APIs, which can take more time and result in a slower response from the composed API.</p><p>In addition, API composition on the client side can also lead to increased security risks. This is because the client needs to handle sensitive information, such as API keys and authentication credentials, which can be vulnerable to attacks if not properly secured.
The client doesn&#x27;t have access to powerful CPUs or a reliable network either. This makes the composition problem even more challenging to implement and manage. It is therefore often more efficient and effective to perform API composition on the server side instead.</p><h2 class="anchor anchorWithStickyNavbar_FNw8" id="backend-for-frontend">Backend For Frontend<a href="#backend-for-frontend" class="hash-link" aria-label="Direct link to Backend For Frontend" title="Direct link to Backend For Frontend">​</a></h2><p>A BFF layer can help to solve the challenges of API composition by providing a separate backend service that is optimized for each specific frontend client. This can enable the BFF to perform API composition on behalf of the client, which can help to improve the performance and reliability of the composed API. The BFF layer typically sits as a separate component in the overall architecture, between the frontend client and the microservices. It can communicate with both the frontend client and the microservices using well-defined interfaces and protocols, such as REST or gRPC.</p><p>The BFF can take advantage of a powerful CPU and access to a fast network to improve the performance and reliability of the composed API. It can also provide added flexibility and control over the composition process. This can make it a useful tool for developers who want to create new APIs by combining the functionality of multiple underlying APIs.</p><p><img loading="lazy" alt="Backend for Frontend" src="/assets/images/bff-878ce671177c6fa3e99bf82f002c2b17.svg" width="3617" height="2224" class="img_wQsy"></p><p>BFFs truly solve the problems mentioned above to a great extent, however they introduce new set of challenges viz.</p><h3 class="anchor anchorWithStickyNavbar_FNw8" id="highly-specialized">Highly Specialized<a href="#highly-specialized" class="hash-link" aria-label="Direct link to Highly Specialized" title="Direct link to Highly Specialized">​</a></h3><p>One of the challenges with using a BFF layer is that it is a highly specialized solution that requires a significant amount of hand-written code. Unlike an API gateway, there is no standard BFF solution that can be deployed out-of-the-box, and each BFF implementation must be custom-tailored to the specific requirements of the frontend client. This lack of standardization and reusability can make the BFF solution more complex and difficult to maintain.</p><h3 class="anchor anchorWithStickyNavbar_FNw8" id="fragile">Fragile<a href="#fragile" class="hash-link" aria-label="Direct link to Fragile" title="Direct link to Fragile">​</a></h3><p>Another challenge with using a BFF layer is that it can be fragile and susceptible to failure. The BFF solution is dependent on the developers to follow best practices and handle all error scenarios, and if these steps are not taken, the solution can be prone to bugs and performance issues. Additionally, the BFF solution must be thoroughly tested, including performance testing, unit testing, and integration testing, to ensure that it is reliable and performs well in production. This can require significant effort and expertise, and if these steps are not properly followed, the BFF solution can be fragile and prone to failure. Also, it&#x27;s worth mentioning that a BFF layer is an entry point to all your backend, it going down basically means nothing is accessible for the user so this layer needs to be robust and resilient to exceptions.</p><h3 class="anchor anchorWithStickyNavbar_FNw8" id="performance">Performance<a href="#performance" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h3><p>Because BFF layers are typically custom-written for each use case, it can be difficult to predict the performance impact of a small code change. Issues such as unoptimized algorithms, inefficient caching, and unnecessary downstream requests can go unnoticed and only be discovered very late in the development cycle. Typically companies perform thorough benchmarking and load testing before anything goes live. This results in a very high time to market even for minor changes.</p><h3 class="anchor anchorWithStickyNavbar_FNw8" id="monolith">Monolith<a href="#monolith" class="hash-link" aria-label="Direct link to Monolith" title="Direct link to Monolith">​</a></h3><p>Eventually, this layer turns out to be a big monolith touching every service in your backend. The layer contains a lot of handwritten spaghetti code that&#x27;s hard to maintain. Onboarding new engineers also become harder and upgrading libraries or architecture gets costlier. Any tiny change requires a full-fledged deployment on your infrastructure.</p><h3 class="anchor anchorWithStickyNavbar_FNw8" id="canary-support-or-lack-thereof">Canary Support (or lack thereof)<a href="#canary-support-or-lack-thereof" class="hash-link" aria-label="Direct link to Canary Support (or lack thereof)" title="Direct link to Canary Support (or lack thereof)">​</a></h3><p>Every change that happens in the backend requires the deployment of the BFF layer. In fact, any feature that is built on the client also requires changes on the BFF layer. Such frequent changes can not be exposed to 100% of users because the reliability and performance of this system are unknown. A common way to solve this problem is to use <a href="https://www.redhat.com/en/topics/devops/what-is-blue-green-deployment" target="_blank" rel="noopener noreferrer">Blue Green</a> deployments. This requires additional infrastructure and complex routing mechanisms. A first-class support to do canary releases is very important and should be part of a modern BFF layer, however, most companies rely on DevOps for its support.</p><h3 class="anchor anchorWithStickyNavbar_FNw8" id="coupled-release">Coupled Release<a href="#coupled-release" class="hash-link" aria-label="Direct link to Coupled Release" title="Direct link to Coupled Release">​</a></h3><p>BFF layers can&#x27;t be deployed independently since they act as a bridge between the clients and the services. Generally, the services need to go live first, and they need to make sure that the change is compatible with the current version of the BFF layer running in production. The interesting problem is in case there is a bug in the microservice and it needs to be reverted, even the BFF layer needs to be reverted. This kind of coupling makes it operationally very expensive to manage.</p><h3 class="anchor anchorWithStickyNavbar_FNw8" id="legacy-gateway">Legacy Gateway<a href="#legacy-gateway" class="hash-link" aria-label="Direct link to Legacy Gateway" title="Direct link to Legacy Gateway">​</a></h3><p>BFF layers often end up implementing some of the cross-cutting concerns of an API gateway such as rate limiting, authentication, throttling etc. This makes its purpose quite confusing in the sense that do we need an API gateway if we are using a BFF layer? Moreover, it&#x27;s not very clear if we use an API gateway with a BFF layer, where should we place it? Should we place it between the clients and the BFF layer or the BFF layer and the service mesh? These are subjective decisions that each company ends up making as there is no standard way of doing this. However, it&#x27;s worth mentioning that legacy gateways do introduce a gap that&#x27;s being attempted to be filled by a BFF layer.</p><p>These are problems of scale and that&#x27;s exactly what tailcall intends to solve.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/intro/api-composition.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_NulP" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated__GQF"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_IS5x thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#api-composition" class="table-of-contents__link toc-highlight">API Composition</a></li><li><a href="#microservice" class="table-of-contents__link toc-highlight">Microservice</a></li><li><a href="#api-composition-1" class="table-of-contents__link toc-highlight">API Composition</a></li><li><a href="#backend-for-frontend" class="table-of-contents__link toc-highlight">Backend For Frontend</a><ul><li><a href="#highly-specialized" class="table-of-contents__link toc-highlight">Highly Specialized</a></li><li><a href="#fragile" class="table-of-contents__link toc-highlight">Fragile</a></li><li><a href="#performance" class="table-of-contents__link toc-highlight">Performance</a></li><li><a href="#monolith" class="table-of-contents__link toc-highlight">Monolith</a></li><li><a href="#canary-support-or-lack-thereof" class="table-of-contents__link toc-highlight">Canary Support (or lack thereof)</a></li><li><a href="#coupled-release" class="table-of-contents__link toc-highlight">Coupled Release</a></li><li><a href="#legacy-gateway" class="table-of-contents__link toc-highlight">Legacy Gateway</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/7fseDEXUNU" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="mailto:hi@tailcall.run" target="_blank" rel="noopener noreferrer" class="footer__link-item">hi@tailcall.run</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/tailcall" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Tailcall, Inc. </div></div></div></footer></div>
<script src="/assets/js/runtime~main.7c931e67.js"></script>
<script src="/assets/js/main.757b5c33.js"></script>
</body>
</html>