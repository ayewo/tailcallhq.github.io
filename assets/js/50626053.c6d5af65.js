"use strict";(self.webpackChunktailcall_run=self.webpackChunktailcall_run||[]).push([[981],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},h="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),h=p(n),d=r,m=h["".concat(s,".").concat(d)]||h[d]||u[d]||i;return n?a.createElement(m,l(l({ref:t},c),{},{components:n})):a.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[h]="string"==typeof e?e:r,l[1]=o;for(var p=2;p<i;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1145:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:1,title:"Quick Start",slug:"/"},l=void 0,o={unversionedId:"intro/quickstart",id:"intro/quickstart",title:"Quick Start",description:"Requirements",source:"@site/docs/intro/quickstart.md",sourceDirName:"intro",slug:"/",permalink:"/docs/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/intro/quickstart.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Quick Start",slug:"/"},sidebar:"tutorialSidebar",next:{title:"Operators",permalink:"/docs/operators"}},s={},p=[{value:"Requirements",id:"requirements",level:3},{value:"Installation",id:"installation",level:3},{value:"Compose REST apis into a GraphQL schema",id:"compose-rest-apis-into-a-graphql-schema",level:3},{value:"Create the schema definition",id:"create-the-schema-definition",level:4},{value:"Register the schema definition with the server",id:"register-the-schema-definition-with-the-server",level:4},{value:"Query the registered schema",id:"query-the-registered-schema",level:4}],c={toc:p},h="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(h,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"requirements"},"Requirements"),(0,r.kt)("p",null,"To run Tailcall, you need to have Java 11 or above installed on your machine."),(0,r.kt)("h3",{id:"installation"},"Installation"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Download the latest release of Tailcall from ",(0,r.kt)("a",{href:"https://github.com/tailcallhq/monotail/releases/latest",target:"_blank"},"the latest release page"),". The release is named ",(0,r.kt)("inlineCode",{parentName:"p"},"tailcall-v<x.y.z>.zip")," where ",(0,r.kt)("inlineCode",{parentName:"p"},"x.y.z")," is the latest release version.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Create a directory and unzip the file in the directory. The unzipped file contains a bunch of files in the following directory structure -"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},".\n\u251c\u2500\u2500 bin\n\u2502   \u251c\u2500\u2500 tailcall\n\u2502   \u251c\u2500\u2500 tailcall_cli_main\n\u2502   \u251c\u2500\u2500 tailcall_cli_main.bat\n\u2502   \u251c\u2500\u2500 tailcall_server_main\n\u2502   \u251c\u2500\u2500 tailcall_server_main.bat\n\u2502   \u2514\u2500\u2500 tailcall.bat\n\u2514\u2500\u2500 lib\n    \u251c\u2500\u2500 cli-assembly-0.1.0-SNAPSHOT.jar\n    \u2514\u2500\u2500 server-assembly-0.1.0-SNAPSHOT.jar\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"bin")," contains the executable files for the tailcall server and the tailcall command line interface (cli).")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"lib")," contains all the jar files required for the shell scripts in ",(0,r.kt)("inlineCode",{parentName:"p"},"bin")," to run."))),(0,r.kt)("p",null,"Tailcall consists of two parts, the ",(0,r.kt)("inlineCode",{parentName:"p"},"CLI")," or Command Line Interface, and the ",(0,r.kt)("inlineCode",{parentName:"p"},"Server"),". The CLI is used to define, validate and register a composed API definition with the server, and once registered, graphQL queries can be made to the server. The server is responsible for executing the queries and returning the results. For this demo, we won't be running the server locally but will use the server running in ephemeral mode on ",(0,r.kt)("inlineCode",{parentName:"p"},"https://cloud.tailcall.run/graphql"),"."),(0,r.kt)("h3",{id:"compose-rest-apis-into-a-graphql-schema"},"Compose REST apis into a GraphQL schema"),(0,r.kt)("p",null,"For our first example, we are going to compose a graphQL schema from the REST apis at ",(0,r.kt)("a",{href:"https://jsonplaceholder.typicode.com/",target:"_blank"},(0,r.kt)("a",{parentName:"p",href:"https://jsonplaceholder.typicode.com/"},"https://jsonplaceholder.typicode.com/")),", a free online REST api with some fake data.\nWe will use the api at ",(0,r.kt)("inlineCode",{parentName:"p"},"https://jsonplaceholder.typicode.com/users")," to get a list of users, and ",(0,r.kt)("inlineCode",{parentName:"p"},"https://jsonplaceholder.typicode.com/users/:id/posts")," to get the posts for each user, and compose them into a single GraphQL schema."),(0,r.kt)("h4",{id:"create-the-schema-definition"},"Create the schema definition"),(0,r.kt)("p",null,"Create a file called ",(0,r.kt)("inlineCode",{parentName:"p"},"jsonplaceholder.graphql")," and paste the following contents into it."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-graphql",metastring:"showLineNumbers",showLineNumbers:!0},'# Specify a base url for all http requests\nschema @server(baseURL: "http://jsonplaceholder.typicode.com") {\n  query: Query\n}\n\ntype Query {\n  # Specify the http path for the users query\n  users: [User] @http(path: "/users")\n}\n\n# Create a user type with the fields returned by the users api\ntype User {\n  id: Int!\n  name: String!\n  username: String!\n  email: String!\n  email: String!\n\n  # Extend the user type with the posts field\n  # Use the current user\'s id to construct the path\n  posts: [Post] @http(path: "/users/{{value.id}}/posts")\n}\n\n# Create a post type with the fields returned by the posts api\ntype Post {\n  id: Int!\n  title: String!\n  body: String!\n}\n')),(0,r.kt)("p",null,"The above file is a standard ",(0,r.kt)("inlineCode",{parentName:"p"},".graphQL")," file, with a few additions such as ",(0,r.kt)("inlineCode",{parentName:"p"},"@server")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"@http")," directives. So basically we specify the graphQL schema and how to resolve that graphQL schema in the same file, without having to write any code! Here is a quick overview of what the above schema does:"),(0,r.kt)("h4",{id:"register-the-schema-definition-with-the-server"},"Register the schema definition with the server"),(0,r.kt)("p",null,"Now, again in the ",(0,r.kt)("inlineCode",{parentName:"p"},"bin")," directory, run the following command to register this schema with the server. Specify the full path to the ",(0,r.kt)("inlineCode",{parentName:"p"},"jsonplaceholder.graphql")," file that you created above."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"./tailcall_cli_main publish jsonplaceholder.graphql\n")),(0,r.kt)("p",null,"If the command succeeds, you should see output like the following below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"Deployment was completed successfully.\nDigest:     4ee03fde640e2f4c3e65c570971cc8b9ef6964926a79eed884eca6f864a43165\nEndpoints:  2\nUnsafe:     0\nPlayground: http://cloud.tailcall.run/graphql/4ee03fde640e2f4c3e65c570971cc8b9ef6964926a79eed884eca6f864a43165.\nN + 1:      1\n")),(0,r.kt)("p",null,"The server registers the schema and makes it available for querying at the playground URL in the output. Open the ",(0,r.kt)("strong",{parentName:"p"},"playground URL")," in a new tab in your browser. You can query the composed schema here."),(0,r.kt)("h4",{id:"query-the-registered-schema"},"Query the registered schema"),(0,r.kt)("p",null,"Let's try the following query, to get all the users and the title of each post of each user."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-graphql",metastring:"showLineNumbers",showLineNumbers:!0},"query {\n  users {\n    id\n    name\n    posts {\n      title\n    }\n  }\n}\n")),(0,r.kt)("p",null,"You should see output like the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:"showLineNumbers",showLineNumbers:!0},'{\n  "data": {\n    "users": [\n      {\n        "id": 1,\n        "name": "Leanne Graham",\n        "posts": [\n          {\n            "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit"\n          },\n          ...\n        ]\n      },\n      {\n        "id": 2,\n        "name": "Ervin Howell",\n        "posts": [\n          {\n            "title": "et ea vero quia laudantium autem"\n          },\n          {\n            "title": "in quibusdam tempore odit est dolorem"\n          },\n          ...\n        ]\n      }\n    ]\n  }\n}\n')),(0,r.kt)("p",null,"You can now add additional fields, and compose more queries together!"))}u.isMDXComponent=!0}}]);